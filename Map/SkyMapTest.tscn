[gd_scene load_steps=24 format=2]

[ext_resource path="res://mapdata/environment.tres" type="Environment" id=1]
[ext_resource path="res://Entity/System/AStar.tscn" type="PackedScene" id=2]
[ext_resource path="res://Entity/System/Camera.tscn" type="PackedScene" id=3]
[ext_resource path="res://Entity/Player/PlayerBase.tscn" type="PackedScene" id=4]
[ext_resource path="res://Entity/System/PostProcess.tscn" type="PackedScene" id=5]
[ext_resource path="res://addons/zylann.hterrain/hterrain.gd" type="Script" id=6]
[ext_resource path="res://addons/zylann.hterrain/hterrain_texture_set.gd" type="Script" id=7]
[ext_resource path="res://data/data.hterrain" type="Resource" id=8]
[ext_resource path="res://textures/grassterrain128_albedo.png" type="Texture" id=9]
[ext_resource path="res://textures/grassterrain128_normal.png" type="Texture" id=10]
[ext_resource path="res://Entity/CarrierShip/CarrierShip.tscn" type="PackedScene" id=11]
[ext_resource path="res://Entity/Valgr/Valgr.tscn" type="PackedScene" id=12]
[ext_resource path="res://addons/zylann.hterrain/hterrain_detail_layer.gd" type="Script" id=13]
[ext_resource path="res://textures/rockyterrain128_albedo.png" type="Texture" id=14]
[ext_resource path="res://textures/rockyterrain128_normal.png" type="Texture" id=15]
[ext_resource path="res://addons/zylann.hterrain/tools/icons/icon_detail_layer_node.svg" type="Texture" id=16]
[ext_resource path="res://material/mapboundaryalpha.tres" type="Material" id=17]
[ext_resource path="res://UI/HUDScene.tscn" type="PackedScene" id=18]
[ext_resource path="res://UI/PauseGUI.tscn" type="PackedScene" id=19]
[ext_resource path="res://sound/music/Battle.mp3" type="AudioStream" id=20]
[ext_resource path="res://Entity/Drone/Drone.tscn" type="PackedScene" id=21]

[sub_resource type="Resource" id=1]
script = ExtResource( 7 )
mode = 0
textures = [ [ ExtResource( 9 ), ExtResource( 14 ) ], [ ExtResource( 10 ), ExtResource( 15 ) ] ]

[sub_resource type="CubeMesh" id=2]
size = Vector3( 200, 150, 5 )

[node name="Spatial" type="Spatial"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 1 )

[node name="AStar" parent="." instance=ExtResource( 2 )]

[node name="Camera" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -141.777, 214.441, 46.37 )
far = 500.0

[node name="Player" parent="." instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -140.204, 206.11, 0 )

[node name="postProcess" parent="Player" instance=ExtResource( 5 )]

[node name="HTerrain" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -10, 0 )
script = ExtResource( 6 )
centered = true
_terrain_data = ExtResource( 8 )
chunk_size = 32
collision_enabled = true
collision_layer = 1
collision_mask = 1
shader_type = "Classic4Lite"
custom_shader = null
custom_globalmap_shader = null
texture_set = SubResource( 1 )
render_layers = 1
shader_params/u_ground_uv_scale = 20
shader_params/u_depth_blending = true
shader_params/u_triplanar = false
shader_params/u_tile_reduction = Plane( 0, 0, 0, 0 )

[node name="HTerrainDetailLayer" type="Spatial" parent="HTerrain"]
script = ExtResource( 13 )
__meta__ = {
"_editor_icon": ExtResource( 16 )
}
texture = ExtResource( 9 )
shader_params/u_globalmap_tint_bottom = null
shader_params/u_globalmap_tint_top = null
shader_params/u_bottom_ao = null
shader_params/u_instance_scale = Vector3( 1, 1, 1 )

[node name="CSGCombiner" type="CSGCombiner" parent="."]
use_collision = true

[node name="CSGBox" type="CSGBox" parent="CSGCombiner"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -60.3323, 251.441, -0.110783 )
height = 154.085
depth = 7.53553
material = ExtResource( 17 )

[node name="CSGBox2" type="CSGBox" parent="CSGCombiner"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -260.203, 251.441, 0 )
height = 154.085
depth = 7.53553
material = ExtResource( 17 )

[node name="CSGBox3" type="CSGBox" parent="CSGCombiner"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -159.399, 326.287, 0 )
height = 200.223
depth = 7.53553
material = ExtResource( 17 )

[node name="CSGBox4" type="CSGBox" parent="CSGCombiner"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -159.491, 175.532, 0.0312691 )
height = 201.431
depth = 7.53553
material = ExtResource( 17 )

[node name="carriership" parent="." instance=ExtResource( 11 )]
transform = Transform( 0.941831, 1.1232, -7.86456, -0.133556, 7.92076, 1.11523, 7.94324, -8.9407e-08, 0.951253, -47.3341, 362.448, -400.769 )

[node name="pathGrid" type="MeshInstance" parent="." groups=["pathables"]]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -160.696, 251.522, -1.30175 )
visible = false
mesh = SubResource( 2 )
material/0 = null

[node name="valgr01" parent="." instance=ExtResource( 12 )]
transform = Transform( 0.117729, 0.1404, -0.98307, -0.0166945, 0.990095, 0.139404, 0.992905, -1.49012e-08, 0.118907, -166.405, 264.381, -158.499 )
health = 30.0
maxHealth = 10.0

[node name="valgr02" parent="." instance=ExtResource( 12 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -181.197, 263.642, -238.734 )
maxHealth = 10.0

[node name="turtledrone" parent="." instance=ExtResource( 21 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -97.363, 265.163, -156.383 )
maxHealth = 10.0

[node name="HUD" parent="." instance=ExtResource( 18 )]

[node name="pauseGUI" parent="." instance=ExtResource( 19 )]
pause_mode = 2
visible = false

[node name="bgm" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 20 )
volume_db = -10.666
autoplay = true

[connection signal="health_changed" from="Player" to="HUD" method="_on_Player_health_changed"]
